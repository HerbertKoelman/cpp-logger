# autho: Herbert Koelman
# created on: 1/6/2019
os: linux

# use Ubuntu Xenial (version 16)
# This comes with cmake 3.11 which is required to build GoogleTest
dist: xenial
language: cpp
compiler: gcc

# install things for coverall.io
before_install:
  - pip install --user cpp-coveralls
  
# Run travis on these branches only...
branches:
  only:
    - master
    - develop

addons:
  apt:
    packages:
      - doxygen
      - graphviz

script:
  - mkdir cmake-build
  - cd cmake-build && cmake -DGCOV=yes ..
  - make all test 

# create coveralls.io report
after_success:
  - coveralls --root CMakeFiles --exclude googletest-build --exclude googletest-download --exclude googletest-src --exclude lib --gcov-options '\-m \-lp'

    
